<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Movie Info and Show Times</title>
        <h:outputStylesheet library = "css" name = "styles.css"  /> 
    </h:head>
    <h:body>
        
        <div id="pageContainer">
            <div id="contentWrap">
                
                <div class='mainPageHeaderDiv'>
                    <h:graphicImage library="images" name="logo.png" class='pageHeader' height="100px" width="100px" />
                    <h1 class='pageHeader'>Your Ticket to DFW's Movie Entertainment</h1>
                </div>
                <h1 class='secondaryHeader'>Movie Times for #{moviesByTheaterBean.selectedTheater.theaterName}</h1>

                <div class="movieInfoWrapper">
                    <!--Movie title, synopsis, rating, runtime, and genre displayed-->
                    <div class="movieInfoBlocks movieInfoTitle">
                        <h1 class="movieTitle">#{movieInfoBean.selectedMovie.title} (#{movieInfoBean.selectedMovie.releaseDate})</h1>
                    </div>

                    <div class='movieInfoBlocks movieInfoSynopsis'>
                        <h:outputText value="#{movieInfoBean.selectedMovie.synopsis}" />
                    </div>

                    <div class="movieInfoBlocks movieInfoMiddle">
                        <div>
                            <h:outputText value="#{movieInfoBean.selectedMovie.rating}" />
                        </div>
                        <div>
                            <h:outputText value="#{movieInfoBean.selectedMovie.runtime}" />
                        </div>
                        <div>
                            <h:outputText value="#{movieInfoBean.selectedMovie.genre}" />
                        </div>
                    </div>
                </div>

                <div class="movieTimesWrapper">
                    <div class="movieInfoBlocks">
                        <p>Select a movie time to purchase tickets</p>
                        <div class="movieInfoButtonsDiv">
                           <h:form class="movieInfoButtonsForm">
                            <!--Data table pulls showtimes based on selected theater and movie-->
                            <h:dataTable value="#{movieInfoBean.movieShowtimes}" var="showtime">
                                <h:column>
                                    <h:commandButton value="#{showtime.showtimesPK.showtime}" action="#{purchasePageBean.getPurchasePage()}" styleClass="movieInfoButton" >
                                        <f:param name="showtime" value="#{showtime.showtimesPK.showtime}"/>
                                        <f:param name="movie" value="#{showtime.showtimesPK.title}" />
                                        <f:param name="theater" value="#{showtime.showtimesPK.theaterName}"/>                    
                                    </h:commandButton>
                                </h:column>
                            </h:dataTable>
                            </h:form> 
                        </div>

                    </div>
                </div>
                
                <div class="footer">
                <p>
                    <b>CONTACT</b><br></br>
                    775 Corporate Parkway<br></br>
                    Dallas TX 75243<br></br>
                    Phone: (972)-883-5555<br></br>
                    Twitter: @cinemaone<br></br>
                    Facebook: CinemaOne Corp.
                </p>
                </div>
                
            </div>
        </div>
    
        
    </h:body>
</html>

